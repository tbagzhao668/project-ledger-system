/* 全局移动端优化样式 */

/* 基础移动端优化 */
* {
  box-sizing: border-box;
}

html, body {
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
  -webkit-tap-highlight-color: transparent;
}

/* 触摸优化 */
button, input, select, textarea {
  -webkit-appearance: none;
  border-radius: 0;
}

/* 移动端字体优化 */
@media (max-width: 768px) {
  body {
    font-size: 14px;
    line-height: 1.5;
  }
  
  h1 { font-size: 20px !important; }
  h2 { font-size: 18px !important; }
  h3 { font-size: 16px !important; }
  h4 { font-size: 15px !important; }
  h5 { font-size: 14px !important; }
  h6 { font-size: 13px !important; }
}

@media (max-width: 480px) {
  body {
    font-size: 13px;
  }
  
  h1 { font-size: 18px !important; }
  h2 { font-size: 16px !important; }
  h3 { font-size: 15px !important; }
  h4 { font-size: 14px !important; }
  h5 { font-size: 13px !important; }
  h6 { font-size: 12px !important; }
}

/* Element Plus 组件移动端优化 */
@media (max-width: 768px) {
  /* 卡片组件 */
  .el-card {
    margin-bottom: 16px;
  }
  
  .el-card__header {
    padding: 16px;
  }
  
  .el-card__body {
    padding: 16px;
  }
  
  /* 表单组件 */
  .el-form-item {
    margin-bottom: 16px;
  }
  
  .el-form-item__label {
    font-size: 13px;
    line-height: 1.4;
  }
  
  .el-input__inner,
  .el-textarea__inner {
    font-size: 14px;
    height: 36px;
  }
  
  /* 按钮组件 */
  .el-button {
    font-size: 13px;
    padding: 8px 16px;
    height: 36px;
  }
  
  .el-button--small {
    font-size: 12px;
    padding: 6px 12px;
    height: 32px;
  }
  
  /* 表格组件 */
  .el-table {
    font-size: 12px;
  }
  
  .el-table th {
    padding: 8px 4px;
  }
  
  .el-table td {
    padding: 8px 4px;
  }
  
  /* 分页组件 */
  .el-pagination {
    text-align: center;
    margin-top: 16px;
  }
  
  .el-pagination .el-pager li {
    min-width: 32px;
    height: 32px;
    line-height: 32px;
  }
  
  /* 对话框组件 */
  .el-dialog {
    margin: 10vh auto !important;
    width: 90% !important;
    max-width: 500px;
  }
  
  .el-dialog__header {
    padding: 16px 20px;
  }
  
  .el-dialog__body {
    padding: 16px 20px;
  }
  
  .el-dialog__footer {
    padding: 16px 20px;
  }
  
  /* 下拉菜单 */
  .el-dropdown-menu {
    font-size: 13px;
  }
  
  .el-dropdown-menu__item {
    padding: 8px 16px;
  }
  
  /* 消息提示 */
  .el-message {
    min-width: 280px;
    max-width: 90vw;
  }
  
  .el-message__content {
    font-size: 13px;
  }
}

@media (max-width: 480px) {
  /* 卡片组件 */
  .el-card__header {
    padding: 12px;
  }
  
  .el-card__body {
    padding: 12px;
  }
  
  /* 表单组件 */
  .el-form-item {
    margin-bottom: 12px;
  }
  
  .el-form-item__label {
    font-size: 12px;
  }
  
  .el-input__inner,
  .el-textarea__inner {
    font-size: 13px;
    height: 32px;
  }
  
  /* 按钮组件 */
  .el-button {
    font-size: 12px;
    padding: 6px 12px;
    height: 32px;
  }
  
  .el-button--small {
    font-size: 11px;
    padding: 4px 8px;
    height: 28px;
  }
  
  /* 表格组件 */
  .el-table {
    font-size: 11px;
  }
  
  .el-table th {
    padding: 6px 2px;
  }
  
  .el-table td {
    padding: 6px 2px;
  }
  
  /* 对话框组件 */
  .el-dialog {
    width: 95% !important;
    margin: 5vh auto !important;
  }
  
  .el-dialog__header {
    padding: 12px 16px;
  }
  
  .el-dialog__body {
    padding: 12px 16px;
  }
  
  .el-dialog__footer {
    padding: 12px 16px;
  }
  
  /* 消息提示 */
  .el-message {
    min-width: 250px;
  }
  
  .el-message__content {
    font-size: 12px;
  }
}

/* iPhone 安全区域适配 */
@supports (padding: max(0px)) {
  .el-dialog {
    margin-top: max(10vh, env(safe-area-inset-top)) !important;
    margin-bottom: max(10vh, env(safe-area-inset-bottom)) !important;
  }
  
  .el-message {
    margin-top: max(20px, env(safe-area-inset-top));
  }
}

/* 触摸手势优化 */
@media (hover: none) and (pointer: coarse) {
  /* 增加触摸目标大小 */
  .el-button,
  .el-menu-item,
  .el-dropdown-menu__item,
  .el-pagination .el-pager li {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* 优化触摸反馈 */
  .el-button:active,
  .el-menu-item:active,
  .el-dropdown-menu__item:active {
    transform: scale(0.98);
    transition: transform 0.1s ease;
  }
}

/* 横屏模式优化 */
@media (orientation: landscape) and (max-height: 600px) {
  .el-dialog {
    margin: 5vh auto !important;
    max-height: 90vh;
  }
  
  .el-card {
    margin-bottom: 12px;
  }
  
  .el-form-item {
    margin-bottom: 12px;
  }
}

/* 高分辨率屏幕优化 */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .el-button,
  .el-input__inner,
  .el-textarea__inner {
    border-width: 0.5px;
  }
}

/* 暗色模式支持 */
@media (prefers-color-scheme: dark) {
  /* 可以根据需要添加暗色模式样式 */
}

/* 减少动画（用户偏好） */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
