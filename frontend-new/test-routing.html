<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è·¯ç”±æµ‹è¯•é¡µé¢</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .test-section { margin: 20px 0; padding: 20px; border: 1px solid #ddd; }
        .test-button { padding: 10px 20px; margin: 5px; background: #007bff; color: white; border: none; cursor: pointer; }
        .test-button:hover { background: #0056b3; }
        .result { margin: 10px 0; padding: 10px; background: #f8f9fa; border-left: 4px solid #007bff; }
    </style>
</head>
<body>
    <h1>ğŸš€ å‰ç«¯è·¯ç”±æµ‹è¯•é¡µé¢</h1>
    
    <div class="test-section">
        <h2>ğŸ“± è·¯ç”±æµ‹è¯•</h2>
        <p>ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®æµ‹è¯•ä¸åŒçš„è·¯ç”±ï¼š</p>
        
        <button class="test-button" onclick="testRoute('/')">æµ‹è¯•æ ¹è·¯å¾„ /</button>
        <button class="test-button" onclick="testRoute('/login')">æµ‹è¯•ç™»å½•é¡µ /login</button>
        <button class="test-button" onclick="testRoute('/register')">æµ‹è¯•æ³¨å†Œé¡µ /register</button>
        <button class="test-button" onclick="testRoute('/dashboard')">æµ‹è¯•ä»ªè¡¨æ¿ /dashboard</button>
        <button class="test-button" onclick="testRoute('/projects')">æµ‹è¯•é¡¹ç›®ç®¡ç† /projects</button>
        
        <div id="results"></div>
    </div>
    
    <div class="test-section">
        <h2>ğŸ” è®¤è¯çŠ¶æ€æµ‹è¯•</h2>
        <p>å½“å‰è®¤è¯çŠ¶æ€ï¼š</p>
        <div id="auth-status"></div>
        
        <button class="test-button" onclick="clearAuth()">æ¸…é™¤è®¤è¯çŠ¶æ€</button>
        <button class="test-button" onclick="setAuth()">è®¾ç½®è®¤è¯çŠ¶æ€</button>
    </div>
    
    <div class="test-section">
        <h2>ğŸ“‹ æµ‹è¯•è¯´æ˜</h2>
        <ul>
            <li><strong>æ ¹è·¯å¾„ /</strong>: åº”è¯¥é‡å®šå‘åˆ°ç™»å½•é¡µï¼ˆæœªè®¤è¯ï¼‰æˆ–ä»ªè¡¨æ¿ï¼ˆå·²è®¤è¯ï¼‰</li>
            <li><strong>ç™»å½•é¡µ /login</strong>: æœªè®¤è¯ç”¨æˆ·å¯è®¿é—®ï¼Œå·²è®¤è¯ç”¨æˆ·ä¼šè¢«é‡å®šå‘åˆ°ä»ªè¡¨æ¿</li>
            <li><strong>æ³¨å†Œé¡µ /register</strong>: æœªè®¤è¯ç”¨æˆ·å¯è®¿é—®ï¼Œå·²è®¤è¯ç”¨æˆ·ä¼šè¢«é‡å®šå‘åˆ°ä»ªè¡¨æ¿</li>
            <li><strong>ä»ªè¡¨æ¿ /dashboard</strong>: éœ€è¦è®¤è¯ï¼Œæœªè®¤è¯ç”¨æˆ·ä¼šè¢«é‡å®šå‘åˆ°ç™»å½•é¡µ</li>
            <li><strong>é¡¹ç›®ç®¡ç† /projects</strong>: éœ€è¦è®¤è¯ï¼Œæœªè®¤è¯ç”¨æˆ·ä¼šè¢«é‡å®šå‘åˆ°ç™»å½•é¡µ</li>
        </ul>
    </div>

    <script>
        function testRoute(path) {
            const resultsDiv = document.getElementById('results');
            const resultDiv = document.createElement('div');
            resultDiv.className = 'result';
            
            resultDiv.innerHTML = `
                <strong>æµ‹è¯•è·¯å¾„: ${path}</strong><br>
                æ—¶é—´: ${new Date().toLocaleTimeString()}<br>
                çŠ¶æ€: æ­£åœ¨æµ‹è¯•...
            `;
            
            resultsDiv.appendChild(resultDiv);
            
            // æ¨¡æ‹Ÿè·¯ç”±è·³è½¬
            setTimeout(() => {
                if (path === '/') {
                    const token = localStorage.getItem('token');
                    if (token) {
                        resultDiv.innerHTML += `<br>âœ… é‡å®šå‘åˆ°: /dashboard (å·²è®¤è¯)`;
                    } else {
                        resultDiv.innerHTML += `<br>âœ… é‡å®šå‘åˆ°: /login (æœªè®¤è¯)`;
                    }
                } else if (path === '/login' || path === '/register') {
                    const token = localStorage.getItem('token');
                    if (token) {
                        resultDiv.innerHTML += `<br>âœ… é‡å®šå‘åˆ°: /dashboard (å·²è®¤è¯ç”¨æˆ·)`;
                    } else {
                        resultDiv.innerHTML += `<br>âœ… æ­£å¸¸è®¿é—® (æœªè®¤è¯ç”¨æˆ·)`;
                    }
                } else if (path === '/dashboard' || path === '/projects') {
                    const token = localStorage.getItem('token');
                    if (token) {
                        resultDiv.innerHTML += `<br>âœ… æ­£å¸¸è®¿é—® (å·²è®¤è¯ç”¨æˆ·)`;
                    } else {
                        resultDiv.innerHTML += `<br>âœ… é‡å®šå‘åˆ°: /login (æœªè®¤è¯ç”¨æˆ·)`;
                    }
                }
            }, 1000);
        }
        
        function updateAuthStatus() {
            const authDiv = document.getElementById('auth-status');
            const token = localStorage.getItem('token');
            if (token) {
                authDiv.innerHTML = '<span style="color: green;">âœ… å·²è®¤è¯ (Tokenå­˜åœ¨)</span>';
            } else {
                authDiv.innerHTML = '<span style="color: red;">âŒ æœªè®¤è¯ (Tokenä¸å­˜åœ¨)</span>';
            }
        }
        
        function clearAuth() {
            localStorage.removeItem('token');
            updateAuthStatus();
        }
        
        function setAuth() {
            localStorage.setItem('token', 'test-token-123');
            updateAuthStatus();
        }
        
        // é¡µé¢åŠ è½½æ—¶æ›´æ–°çŠ¶æ€
        updateAuthStatus();
    </script>
</body>
</html>
