<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vueç»„ä»¶æµ‹è¯•</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
    <div id="app">
        <h1>Vueç»„ä»¶æµ‹è¯•</h1>
        
        <div v-if="loading">åŠ è½½ä¸­...</div>
        <div v-else>
            <h2>ç§Ÿæˆ·åˆ—è¡¨</h2>
            <div v-for="tenant in tenants" :key="tenant.id" style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
                <h3>{{ tenant.name }}</h3>
                <p>çŠ¶æ€: {{ tenant.status }}</p>
                <button @click="testClick(tenant)" style="background: #007bff; color: white; padding: 5px 10px; border: none; border-radius: 3px;">
                    æµ‹è¯•ç‚¹å‡» ({{ tenant.status === 'active' ? 'ç¦ç”¨' : 'å¯ç”¨' }})
                </button>
            </div>
        </div>
        
        <div style="margin-top: 20px;">
            <button @click="addTestTenant" style="background: #28a745; color: white; padding: 10px; border: none; border-radius: 5px;">
                æ·»åŠ æµ‹è¯•ç§Ÿæˆ·
            </button>
        </div>
        
        <div id="output" style="margin-top: 20px; padding: 10px; background: #f8f9fa; border: 1px solid #dee2e6;">
            <h3>è°ƒè¯•è¾“å‡º:</h3>
            <div v-for="(log, index) in logs" :key="index" style="margin: 5px 0; padding: 5px; background: white; border-left: 3px solid #007bff;">
                {{ log }}
            </div>
        </div>
    </div>

    <script>
        const { createApp, ref, onMounted } = Vue;
        
        createApp({
            setup() {
                const loading = ref(true);
                const tenants = ref([]);
                const logs = ref([]);
                
                const addLog = (message) => {
                    const timestamp = new Date().toLocaleTimeString();
                    logs.value.unshift(`[${timestamp}] ${message}`);
                    console.log(message);
                };
                
                const testClick = (tenant) => {
                    addLog(`ğŸ”˜ æŒ‰é’®è¢«ç‚¹å‡»: ${tenant.name} (${tenant.status})`);
                    
                    const newStatus = tenant.status === 'active' ? 'disabled' : 'active';
                    addLog(`ğŸ”„ åˆ‡æ¢çŠ¶æ€: ${tenant.status} -> ${newStatus}`);
                    
                    // æ¨¡æ‹ŸçŠ¶æ€æ›´æ–°
                    tenant.status = newStatus;
                    addLog(`âœ… çŠ¶æ€å·²æ›´æ–°: ${tenant.name} ç°åœ¨æ˜¯ ${newStatus}`);
                };
                
                const addTestTenant = () => {
                    const newTenant = {
                        id: Date.now().toString(),
                        name: `æµ‹è¯•ç§Ÿæˆ·${tenants.value.length + 1}`,
                        status: 'active'
                    };
                    tenants.value.push(newTenant);
                    addLog(`â• æ·»åŠ æ–°ç§Ÿæˆ·: ${newTenant.name}`);
                };
                
                onMounted(() => {
                    addLog('ğŸš€ Vueç»„ä»¶å·²æŒ‚è½½');
                    
                    // æ¨¡æ‹ŸåŠ è½½æ•°æ®
                    setTimeout(() => {
                        tenants.value = [
                            { id: '1', name: '999', status: 'active' },
                            { id: '2', name: 'ç›‘æ§ç³»ç»Ÿ', status: 'active' },
                            { id: '3', name: 'æµ‹è¯•ç§Ÿæˆ·', status: 'disabled' }
                        ];
                        loading.value = false;
                        addLog('ğŸ“‹ ç§Ÿæˆ·æ•°æ®å·²åŠ è½½');
                    }, 1000);
                });
                
                return {
                    loading,
                    tenants,
                    logs,
                    testClick,
                    addTestTenant
                };
            }
        }).mount('#app');
    </script>
</body>
</html>
